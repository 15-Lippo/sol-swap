(this["webpackJsonptoken-swap-ui"]=this["webpackJsonptoken-swap-ui"]||[]).push([[0],{153:function(e){e.exports=JSON.parse('{"mainnet-beta":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"SNPR","mintAddress":"3Ht7eXT86SKpPL5gZFCVh5BJBNRP82gJofwdw88ujtGV","tokenName":"Sniper","icon":"http://sniperswap.com/img/logo.png"},{"tokenSymbol":"USDC","mintAddress":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","tokenName":"USDC","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{"tokenSymbol":"USDT","mintAddress":"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","tokenName":"USDT","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4/logo.png"},{"mintAddress":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","tokenName":"Serum","tokenSymbol":"SRM","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{"tokenSymbol":"FTT","mintAddress":"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3","tokenName":"Wrapped FTT","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0x50D1c9771902476076eCFc8B2A83Ad6b9355a4c9/logo.png"},{"tokenSymbol":"RAY","mintAddress":"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R","tokenName":"Raydium","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R/logo.png"},{"tokenSymbol":"BTC","mintAddress":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","tokenName":"Wrapped Bitcoin","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"},{"tokenSymbol":"ETH","mintAddress":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","tokenName":"Wrapped Ethereum","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"mintAddress":"C98A4nkJXhpVZNAZdHUA95RpTF3T4whtQubL3YobiUX9","tokenName":"Coin98","tokenSymbol":"C98","icon":"https://coin98.s3.ap-southeast-1.amazonaws.com/Coin/c98-512.svg"},{"mintAddress":"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","tokenName":"Bonfida","tokenSymbol":"FIDA","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp/logo.svg"},{"mintAddress":"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU","tokenName":"Samoyed Coin","tokenSymbol":"SAMO","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU/logo.png"},{"mintAddress":"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx","tokenName":"Star Atlas","tokenSymbol":"ATLAS","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx/logo.png"},{"mintAddress":"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M","tokenName":"Oxygen Protocol","tokenSymbol":"OXY","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M/logo.svg"},{"mintAddress":"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc","tokenName":"HXRO (Sollet)","tokenSymbol":"HXRO","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc/logo.png"},{"mintAddress":"xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW","tokenName":"Solanium","tokenSymbol":"SLIM","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW/logo.png"},{"mintAddress":"5Jq6S9HYqfG6TUMjjsKpnfis7utUAB69JiEGkkypdmgP","tokenName":"RAMP DEFI","tokenSymbol":"wRAMP","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/5Jq6S9HYqfG6TUMjjsKpnfis7utUAB69JiEGkkypdmgP/logo.png"},{"mintAddress":"6uMUH5ztnj6AKYvL71EZgcyyRxjyBC5LVkscA5LrBc3c","tokenName":"Parsiq Token","tokenSymbol":"wPRQ","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/6uMUH5ztnj6AKYvL71EZgcyyRxjyBC5LVkscA5LrBc3c/logo.png"},{"mintAddress":"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K","tokenName":"Wrapped ALEPH (Sollet)","tokenSymbol":"ALEPH","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K/logo.png"},{"mintAddress":"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z","tokenName":"Dexlab","tokenSymbol":"DXL","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z/logo.png"},{"mintAddress":"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr","tokenName":"Solrise Finance","tokenSymbol":"SLRS","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr/logo.png"},{"mintAddress":"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y","tokenName":"Synthetify","tokenSymbol":"SNY","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y/logo.png"},{"mintAddress":"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs","tokenName":"SolFarm","tokenSymbol":"TULIP","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs/logo.svg"},{"mintAddress":"3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR","tokenName":"Only1","tokenSymbol":"LIKE","icon":"https://only1.io/like-token.svg"},{"mintAddress":"EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96","tokenName":"FABRIC","tokenSymbol":"FAB","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96/logo.png"},{"mintAddress":"CjEm7iRHr5cwWTjtF7Xk58hnRiH4rz9NXboeeWjueFCc","tokenName":"Despawn","tokenSymbol":"DSPWN","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/CjEm7iRHr5cwWTjtF7Xk58hnRiH4rz9NXboeeWjueFCc/logo.png"},{"mintAddress":"StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT","tokenName":"Step","tokenSymbol":"STEP","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT/logo.png"},{"mintAddress":"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE","tokenName":"Orca","tokenSymbol":"ORCA","icon":"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE/logo.png"},{"tokenSymbol":"CREAM","mintAddress":"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv","tokenName":"Wrapped CREAM","icon":"https://raw.githubusercontent.com/trustwallet/assets/4c82c2a409f18a4dd96a504f967a55a8fe47026d/blockchains/smartchain/assets/0xd4CB328A82bDf5f03eB737f37Fa6B370aef3e888/logo.png"},{"tokenSymbol":"YFI","mintAddress":"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB","tokenName":"Wrapped YFI","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e/logo.png"},{"tokenSymbol":"LINK","mintAddress":"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG","tokenName":"Wrapped Chainlink","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{"tokenSymbol":"SUSHI","mintAddress":"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy","tokenName":"Wrapped SUSHI","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B3595068778DD592e39A122f4f5a5cF09C90fE2/logo.png"},{"tokenSymbol":"ALEPH","mintAddress":"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K","tokenName":"Wrapped ALEPH","icon":"https://raw.githubusercontent.com/trustwallet/assets/6996a371cd02f516506a8f092eeb29888501447c/blockchains/nuls/assets/NULSd6HgyZkiqLnBzTaeSQfx1TNg2cqbzq51h/logo.png"},{"tokenSymbol":"SXP","mintAddress":"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX","tokenName":"Wrapped SXP","icon":"https://github.com/trustwallet/assets/raw/b0ab88654fe64848da80d982945e4db06e197d4f/blockchains/ethereum/assets/0x8CE9137d39326AD0cD6491fb5CC0CbA0e089b6A9/logo.png"},{"tokenSymbol":"FRONT","mintAddress":"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw","tokenName":"Wrapped FRONT","icon":"https://raw.githubusercontent.com/trustwallet/assets/6e375e4e5fb0ffe09ed001bae1ef8ca1d6c86034/blockchains/ethereum/assets/0xf8C3527CC04340b208C854E985240c02F7B7793f/logo.png"},{"tokenSymbol":"AKRO","mintAddress":"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF","tokenName":"Wrapped AKRO","icon":"https://raw.githubusercontent.com/trustwallet/assets/878dcab0fab90e6593bcb9b7d941be4915f287dc/blockchains/ethereum/assets/0xb2734a4Cec32C81FDE26B0024Ad3ceB8C9b34037/logo.png"},{"tokenSymbol":"UNI","mintAddress":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","tokenName":"Wrapped UNI","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{"mintAddress":"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L","tokenName":"MegaSerum","tokenSymbol":"MSRM","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x476c5E26a75bd202a9683ffD34359C0CC15be0fF/logo.png"},{"tokenSymbol":"WUSDC","mintAddress":"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW","tokenName":"Wrapped USDC","icon":"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"}],"testnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"ABC","mintAddress":"D4fdoY5d2Bn1Cmjqy6J6shRHjcs7QNuBPzwEzTLrf7jm","tokenName":"ABC Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png"}],"devnet":[{"tokenSymbol":"Wrapped SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Wrapped SOL","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},{"tokenSymbol":"XYZ","mintAddress":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","tokenName":"XYZ Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{"tokenSymbol":"ABC","mintAddress":"6z83b76xbSm5UhdG33ePh7QCbLS8YaXCQ9up86tDTCUH","tokenName":"ABC Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"},{"tokenSymbol":"DEF","mintAddress":"3pyeDv6AV1RQuA6KzsqkZrpsNn4b3hooHrQhGs7K2TYa","tokenName":"DEF Test","icon":"https://raw.githubusercontent.com/trustwallet/assets/08d734b5e6ec95227dc50efef3a9cdfea4c398a1/blockchains/ethereum/assets/0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984/logo.png"}],"localnet":[{"tokenSymbol":"SOL","mintAddress":"So11111111111111111111111111111111111111112","tokenName":"Solana","icon":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"}]}')},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return w}));var a=n(11),r=n.n(a),o=n(29),c=n(16),i=n(21),s=n(33),u=n(8),l=n(0),d=n.n(l),p=n(24),m=n(40),b=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/"},{name:"testnet",endpoint:Object(u.i)("testnet")},{name:"devnet",endpoint:Object(u.i)("devnet")},{name:"localnet",endpoint:"http://127.0.0.1:8899"}],f=b[0].endpoint,g=d.a.createContext({endpoint:f,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new u.b(f,"recent"),sendConnection:new u.b(f,"recent"),env:b[0].name});function h(e){var t,n=e.children,a=void 0===n?void 0:n,r=Object(s.h)("connectionEndpts",b[0].endpoint),o=Object(i.a)(r,2),c=o[0],m=o[1],f=Object(s.h)("slippage",.25.toString()),h=Object(i.a)(f,2),y=h[0],v=h[1],k=Object(l.useMemo)((function(){return new u.b(c,"recent")}),[c]),w=Object(l.useMemo)((function(){return new u.b(c,"recent")}),[c]),A=(null===(t=b.find((function(e){return e.endpoint===c})))||void 0===t?void 0:t.name)||b[0].name;return Object(p.e)(A),Object(l.useEffect)((function(){var e=k.onAccountChange((new u.a).publicKey,(function(){}));return function(){k.removeAccountChangeListener(e)}}),[k]),Object(l.useEffect)((function(){var e=k.onSlotChange((function(){return null}));return function(){k.removeSlotChangeListener(e)}}),[k]),Object(l.useEffect)((function(){var e=w.onAccountChange((new u.a).publicKey,(function(){}));return function(){w.removeAccountChangeListener(e)}}),[w]),Object(l.useEffect)((function(){var e=w.onSlotChange((function(){return null}));return function(){w.removeSlotChangeListener(e)}}),[w]),d.a.createElement(g.Provider,{value:{endpoint:c,setEndpoint:m,slippage:parseFloat(y),setSlippage:function(e){return v(e.toString())},connection:k,sendConnection:w,env:A}},a)}function y(){return Object(l.useContext)(g).connection}function v(){var e=Object(l.useContext)(g);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env}}function k(){var e=Object(l.useContext)(g);return{slippage:e.slippage,setSlippage:e.setSlippage}}var w=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){var i,s,l,d,p,b,f,g,h=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(h.length>4&&void 0!==h[4])||h[4],l=new u.g,a.forEach((function(e){return l.add(e)})),e.next=5,t.getRecentBlockhash("max");case 5:return l.recentBlockhash=e.sent.blockhash,(i=l).setSigners.apply(i,[n.publicKey].concat(Object(o.a)(c.map((function(e){return e.publicKey}))))),c.length>0&&(d=l).partialSign.apply(d,Object(o.a)(c)),e.next=10,n.signTransaction(l);case 10:return l=e.sent,p=l.serialize(),b={skipPreflight:!0,commitment:"singleGossip"},e.next=15,t.sendRawTransaction(p,b);case 15:if(f=e.sent,!s){e.next=23;break}return e.next=19,t.confirmTransaction(f,b&&b.commitment);case 19:if(!(g=e.sent.value).err){e.next=23;break}throw Object(m.a)({message:"Transaction failed...",description:"".concat(f),type:"error"}),new Error("Raw transaction ".concat(f," failed (").concat(JSON.stringify(g),")"));case 23:return e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},24:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p}));var a,r,o=n(8),c=new o.d("So11111111111111111111111111111111111111112"),i=new o.d("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),s=new o.d("".concat("GZ33J4as2W9PPdpEvMqfiTQLKYp4XaPTGSTpqYsXNn8t")),u=new o.d("Bo238hVXvGC8EkCfTh3CCk28CjTkvyh8h1hEtcSdgNTh");console.debug("Host address: ".concat(null===s||void 0===s?void 0:s.toBase58())),console.debug("Owner address: ".concat(null===u||void 0===u?void 0:u.toBase58()));var l=[{name:"mainnet-beta",swap:function(){return{current:new o.d("9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL"),legacy:[]}}},{name:"testnet",swap:function(){return{current:new o.d("2n2dsFSgmPcZ8jkmBZLGUM2nzuFqcBGQ3JEEj6RJJcEg"),legacy:[new o.d("9tdctNJuFsYZ6VrKfKEuwwbPp4SFdFw3jYBZU8QUtzeX"),new o.d("CrRvVBS4Hmj47TPU3cMukurpmCUYUrdHYxTQBxncBGqw")]}}},{name:"devnet",swap:function(){return{current:new o.d("BSfTAcBdqmvX5iE2PW88WFNNp2DHhLUaBKk5WrnxVkcJ"),legacy:[new o.d("H1E1G7eD5Rrcy43xvDxXCsjkRggz7MWNMLGJ8YNzJ8PM"),new o.d("CMoteLxSPVPoc7Drcggf3QPg3ue8WPpxYyZTg77UGqHo"),new o.d("EEuPz4iZA5reBUeZj6x1VzoiHfYeHMppSCnHZasRFhYo")]}}},{name:"localnet",swap:function(){return{current:new o.d("5rdpyt5iGfr68qt28hkefcFyF4WtyhTwqKDmHSBG8GZx"),legacy:[]}}}],d=function(e){var t=l.find((function(t){return t.name===e}));if(t){var n=t.swap();a=n.current,r=n.legacy}},p=function(){return{token:i,swap:a,swap_legacy:r}}},26:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return L})),n.d(t,"a",(function(){return I})),n.d(t,"h",(function(){return K})),n.d(t,"g",(function(){return D})),n.d(t,"i",(function(){return R})),n.d(t,"d",(function(){return U})),n.d(t,"f",(function(){return z})),n.d(t,"e",(function(){return X}));var a=n(29),r=n(21),o=n(349),c=n(11),i=n.n(c),s=n(52),u=n(16),l=n(67),d=n(63),p=n(70),m=n(73),b=n(253),f=n(0),g=n.n(f),h=n(22),y=n(56),v=n(8),k=n(24),w=n(31),A=n(64),j=n(40),O=g.a.createContext(null),S=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,n.type)).id=void 0,a.id=e,a}return n}(Object(b.a)(Event));S.type="AccountUpdate";var E=new(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"raiseAccountUpdated",value:function(e){this.dispatchEvent(new S(e))}}]),n}(Object(b.a)(EventTarget))),x=new Map,B=new Map,C=new Map,N=function(){var t=Object(u.a)(i.a.mark((function t(n,a){var r,o,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(a);case 2:if(null!==(r=t.sent)){t.next=5;break}throw new Error("Failed to find mint account");case 5:return o=e.from(r.data),c=G(o),u={pubkey:a,account:Object(s.a)({},r),info:c},t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),F=function(){var t=Object(u.a)(i.a.mark((function t(n,a){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(a);case 2:if(null!==(r=t.sent)){t.next=5;break}throw new Error("Failed to find mint account");case 5:return o=e.from(r.data),t.abrupt("return",q(o));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T={getAccount:function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="string"===typeof n?new v.d(n):n,r=a.toBase58(),!(o=C.get(r))){e.next=5;break}return e.abrupt("return",o);case 5:if(!(c=B.get(r))){e.next=8;break}return e.abrupt("return",c);case 8:return c=N(t,a).then((function(e){return B.delete(r),C.set(r,e),e})),B.set(r,c),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="string"===typeof n?new v.d(n):n,!(r=x.get(a.toBase58()))){e.next=4;break}return e.abrupt("return",r);case 4:return o=F(t,a),x.set(a.toBase58(),o),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L=function(e){var t,n=Object(o.a)(C.values());try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e(a))return a}}catch(r){n.e(r)}finally{n.f()}};function M(e,t){if(t)return{pubkey:e,account:t,info:{mint:k.c,owner:e,amount:new w.d(t.lamports),delegate:null,delegatedAmount:new w.d(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}var W=new Set,P=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return W.add(n.toBase58()),e.next=5,t.getTokenAccountsByOwner(n,{programId:Object(k.d)().token});case 5:e.sent.value.map((function(e){var t=G(e.account.data);return{pubkey:e.pubkey,account:Object(s.a)({},e.account),info:t}})).forEach((function(e){C.set(e.pubkey.toBase58(),e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function I(t){var n=t.children,o=void 0===n?null:n,c=Object(h.d)(),i=Object(y.c)(),u=i.wallet,l=i.connected,d=Object(f.useState)([]),p=Object(r.a)(d,2),m=p[0],b=p[1],j=Object(f.useState)([]),S=Object(r.a)(j,2),B=S[0],N=S[1],F=function(){var e=Object(h.d)(),t=Object(y.c)().wallet,n=Object(f.useState)(),a=Object(r.a)(n,2),o=a[0],c=a[1];return Object(f.useEffect)((function(){e&&(null===t||void 0===t?void 0:t.publicKey)&&(e.getAccountInfo(t.publicKey).then((function(e){e&&c(e)})),e.onAccountChange(t.publicKey,(function(e){e&&c(e)})))}),[c,t,t.publicKey,e]),{nativeAccount:o}}().nativeAccount,T=Object(A.g)().pools,L=Object(f.useCallback)((function(){return Object(a.a)(C.values()).filter((function(e){return e.info.owner.toBase58()===u.publicKey.toBase58()}))}),[u]);return Object(f.useEffect)((function(){N([M(u.publicKey,F)].concat(Object(a.a)(m)).filter((function(e){return void 0!==e})))}),[F,u,m]),Object(f.useEffect)((function(){if(c&&u&&u.publicKey){P(c,k.a),P(c,u.publicKey).then((function(){b(L())}));var t=c.onProgramAccountChange(Object(k.d)().token,(function(t){var n=t.accountId;if(t.accountInfo.data.length===w.a.span){var a=G(t.accountInfo.data),r={pubkey:new v.d(t.accountId),account:Object(s.a)({},t.accountInfo),info:a};(W.has(r.info.owner.toBase58())||C.has(n))&&(C.set(n,r),b(L()),E.raiseAccountUpdated(n))}else if(t.accountInfo.data.length===w.b.span){if(x.has(n)){var o=e.from(t.accountInfo.data),c=q(o);x.set(n,new Promise((function(e){return e(c)}))),E.raiseAccountUpdated(n)}E.raiseAccountUpdated(n)}}),"singleGossip");return function(){c.removeProgramAccountChangeListener(t)}}b([])}),[c,l,null===u||void 0===u?void 0:u.publicKey]),g.a.createElement(O.Provider,{value:{userAccounts:B,pools:T,nativeAccount:F}},o)}function K(){return{account:Object(f.useContext)(O).nativeAccount}}function D(e){var t=Object(h.d)(),n=Object(f.useState)(),a=Object(r.a)(n,2),o=a[0],c=a[1];return Object(f.useEffect)((function(){if(e){T.getMint(t,e).then(c).catch((function(e){return Object(j.a)({message:e.message,type:"error"})}));var n=function(n){n.id===e&&T.getMint(t,e).then(c)};return E.addEventListener(S.type,n),function(){E.removeEventListener(S.type,n)}}}),[t,e]),o}function R(){return{userAccounts:Object(f.useContext)(O).userAccounts}}function U(e){var t=Object(h.d)(),n=Object(f.useState)(),a=Object(r.a)(n,2),o=a[0],c=a[1],s=null===e||void 0===e?void 0:e.toBase58();return Object(f.useEffect)((function(){var e=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,T.getAccount(t,s).catch((function(e){return Object(j.a)({message:e.message,type:"error"})}));case 5:(n=e.sent)&&c(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e();var n=function(t){t.id===s&&e()};return E.addEventListener(S.type,n),function(){E.removeEventListener(S.type,n)}}),[t,s]),o}function z(){return{pools:Object(f.useContext)(O).pools}}var X=function(e){var t=R().userAccounts,n=t.findIndex((function(t){return t.info.mint.toBase58()===e}));if(-1!==n)return t[n]},G=function(e){var t=w.a.decode(e);return t.mint=new v.d(t.mint),t.owner=new v.d(t.owner),t.amount=w.d.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new w.d(0)):(t.delegate=new v.d(t.delegate),t.delegatedAmount=w.d.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=w.d.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new v.d(t.closeAuthority),t},q=function(e){if(e.length!==w.b.span)throw new Error("Not a valid Mint");var t=w.b.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new v.d(t.mintAuthority),t.supply=w.d.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new v.d(t.freezeAuthority),t}}).call(this,n(46).Buffer)},278:function(e,t){},279:function(e,t){},280:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return m}));var a=n(84),r=n(8),o=n(2),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return o.blob(32,e)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return o.blob(8,e)},s=o.struct([o.u8("isInitialized"),o.u8("nonce"),c("tokenAccountA"),c("tokenAccountB"),c("tokenPool"),i("feesNumerator"),i("feesDenominator")]),u=o.struct([o.u8("isInitialized"),o.u8("nonce"),c("tokenProgramId"),c("tokenAccountA"),c("tokenAccountB"),c("tokenPool"),c("mintA"),c("mintB"),c("feeAccount"),o.u8("curveType"),i("tradeFeeNumerator"),i("tradeFeeDenominator"),i("ownerTradeFeeNumerator"),i("ownerTradeFeeDenominator"),i("ownerWithdrawFeeNumerator"),i("ownerWithdrawFeeDenominator"),o.blob(16,"padding")]),l=function(t,n,a,c,i,s,u,l,d,p,m,b,f,g,h,y,v){var k=[{pubkey:t.publicKey,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1}],w=o.struct([o.u8("instruction"),o.u8("nonce"),o.u8("curveType"),o.nu64("tradeFeeNumerator"),o.nu64("tradeFeeDenominator"),o.nu64("ownerTradeFeeNumerator"),o.nu64("ownerTradeFeeDenominator"),o.nu64("ownerWithdrawFeeNumerator"),o.nu64("ownerWithdrawFeeDenominator"),o.blob(16,"padding")]),A=e.alloc(1024),j=w.encode({instruction:0,nonce:p,curveType:m,tradeFeeNumerator:b,tradeFeeDenominator:f,ownerTradeFeeNumerator:g,ownerTradeFeeDenominator:h,ownerWithdrawFeeNumerator:y,ownerWithdrawFeeDenominator:v},A);return A=A.slice(0,j),new r.h({keys:k,programId:d,data:A})},d=function(t,n,c,s,u,l,d,p,m,b,f,g,h){var y=o.struct([o.u8("instruction"),i("poolTokenAmount"),i("maximumTokenA"),i("maximumTokenB")]),v=e.alloc(y.span);y.encode({instruction:2,poolTokenAmount:new a.a(f).toBuffer(),maximumTokenA:new a.a(g).toBuffer(),maximumTokenB:new a.a(h).toBuffer()},v);var k=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1}];return new r.h({keys:k,programId:m,data:v})},p=function(t,n,c,s,u,l,d,p,m,b,f,g,h,y){var v=o.struct([o.u8("instruction"),i("poolTokenAmount"),i("minimumTokenA"),i("minimumTokenB")]),k=e.alloc(v.span);v.encode({instruction:3,poolTokenAmount:new a.a(g).toBuffer(),minimumTokenA:new a.a(h).toBuffer(),minimumTokenB:new a.a(y).toBuffer()},k);var w=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0}];return s&&w.push({pubkey:s,isSigner:!1,isWritable:!0}),w.push({pubkey:f,isSigner:!1,isWritable:!1}),new r.h({keys:w,programId:b,data:k})},m=function(t,n,c,s,u,l,d,p,m,b,f,g,h){var y=o.struct([o.u8("instruction"),i("amountIn"),i("minimumAmountOut")]),v=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1}];h&&v.push({pubkey:h,isSigner:!1,isWritable:!0});var k=e.alloc(y.span);return y.encode({instruction:1,amountIn:new a.a(f).toBuffer(),minimumAmountOut:new a.a(g).toBuffer()},k),new r.h({keys:v,programId:m,data:k})}}).call(this,n(46).Buffer)},33:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(21),r=n(0),o=n(153),c=Object.keys(o).reduce((function(e,t){var n=o[t].reduce((function(e,t){return e.set(t.mintAddress,t),e}),new Map);return e.set(t,n),e}),new Map);function i(e,t){var n=Object(r.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),o=Object(a.a)(n,2),c=o[0],i=o[1],s=Object(r.useCallback)((function(t){c!==t&&(i(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[c,e]);return[c,s]}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"0x".concat(e.substring(0,t),"...").concat(e.substring(44-t))}function u(e,t){var n,a,r=null===(n=c.get(e))||void 0===n||null===(a=n.get(t))||void 0===a?void 0:a.tokenSymbol;return r||s(t).substring(10).toUpperCase()}function l(e,t){var n,a;return null===(n=c.get(e))||void 0===n||null===(a=n.get(t))||void 0===a?void 0:a.icon}function d(e,t){return t.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort().map((function(t){return u(e,t)})).join("/")}function p(e,t){var n;return!!(null===(n=c.get(e))||void 0===n?void 0:n.get(t))}function m(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var r=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return(null===(n=e.info.amount)||void 0===n?void 0:n.toNumber())/r*a}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return e?"".concat([a]).concat(m(e,t,n).toFixed(6)).concat(r):""}},340:function(e,t,n){},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(254);function c(e){var t=e.message,n=void 0===t?"":t,a=e.description,c=void 0===a?void 0:a,i=e.txid,s=void 0===i?"":i,u=e.type,l=void 0===u?"info":u,d=e.placement,p=void 0===d?"bottomLeft":d;s&&(c=r.a.createElement(r.a.Fragment,null)),o.a[l]({message:r.a.createElement("span",{style:{color:"black"}},n),description:r.a.createElement("span",{style:{color:"black",opacity:.5}},c),placement:p,style:{backgroundColor:"white"}})}},408:function(e,t,n){e.exports=n(731)},413:function(e,t,n){},414:function(e,t,n){},418:function(e,t){},419:function(e,t){},448:function(e,t){},450:function(e,t){},487:function(e,t,n){},497:function(e,t,n){},506:function(e,t,n){},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m}));var a=n(21),r=n(0),o=n.n(r),c=n(346),i=n(40),s=n(22),u=n(33),l=[{name:"sollet.io",url:"https://www.sollet.io"},{name:"solflare.com",url:"https://solflare.com/access-wallet"},{name:"mathwallet.org",url:"https://www.mathwallet.org"}],d=o.a.createContext(null);function p(e){var t,n,p=e.children,m=void 0===p?null:p,b=Object(s.e)().endpoint,f=Object(u.h)("walletProvider","https://www.sollet.io"),g=Object(a.a)(f,2),h=g[0],y=g[1],v=Object(r.useMemo)((function(){return new c.a(h,b)}),[h,b]),k=Object(r.useState)(!1),w=Object(a.a)(k,2),A=w[0],j=w[1];return Object(r.useEffect)((function(){return console.log("trying to connect"),v.on("connect",(function(){console.log("connected"),j(!0);var e=v.publicKey.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;Object(i.a)({message:"Wallet update",description:"Connected to wallet "+t})})),v.on("disconnect",(function(){j(!1),Object(i.a)({message:"Wallet update",description:"Disconnected from wallet"})})),function(){v.disconnect(),j(!1)}}),[v]),o.a.createElement(d.Provider,{value:{wallet:v,connected:A,providerUrl:h,setProviderUrl:y,providerName:null!==(t=null===(n=l.find((function(e){return e.url===h})))||void 0===n?void 0:n.name)&&void 0!==t?t:h}},m)}function m(){var e=Object(r.useContext)(d);return{connected:e.connected,wallet:e.wallet,providerUrl:e.providerUrl,setProvider:e.setProviderUrl,providerName:e.providerName}}},64:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return A})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return x}));var a=n(29),r=n(21),o=n(11),c=n.n(o),i=n(16),s=n(8),u=n(22),l=n(0),d=n(31),p=n(40),m=n(26),b=n(24),f=n(69),g=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r,o){var i,s,l,g,h,y,v,k,w,A,j,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return Object(p.a)({message:"Removing Liquidity...",description:"Please review transactions to approve.",type:"warn"}),i=0,s=0,e.next=7,m.b.getMint(t,o.pubkeys.mint);case 7:return l=e.sent,e.next=10,m.b.getAccount(t,o.pubkeys.holdingAccounts[0]);case 10:return g=e.sent,e.next=13,m.b.getAccount(t,o.pubkeys.holdingAccounts[1]);case 13:if(h=e.sent,l.mintAuthority){e.next=16;break}throw new Error("Mint doesnt have authority");case 16:return y=l.mintAuthority,v=[],k=[],w=[],e.next=22,t.getMinimumBalanceForRentExemption(d.a.span);case 22:return A=e.sent,e.next=25,E(n.publicKey,n.publicKey,k,w,A,g.info.mint,v);case 25:return e.t0=e.sent,e.next=28,E(n.publicKey,n.publicKey,k,w,A,h.info.mint,v);case 28:return e.t1=e.sent,j=[e.t0,e.t1],k.push(d.c.createApproveInstruction(Object(b.d)().token,r.pubkey,y,n.publicKey,[],a)),k.push(Object(f.withdrawInstruction)(o.pubkeys.account,y,o.pubkeys.mint,o.pubkeys.feeAccount,r.pubkey,o.pubkeys.holdingAccounts[0],o.pubkeys.holdingAccounts[1],j[0],j[1],o.pubkeys.program,Object(b.d)().token,a,i,s)),e.next=34,Object(u.c)(t,n,k.concat(w),v);case 34:O=e.sent,Object(p.a)({message:"Liquidity Returned. Thank you for your support.",type:"success",description:"Transaction - ".concat(O)});case 36:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r,o){var i,l,g,h,y,v,k,w,A,j,O,S,x,B;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&a[0].account){e.next=3;break}return Object(p.a)({type:"error",message:"Pool doesn't exsist.",description:"Swap trade cancelled"}),e.abrupt("return");case 3:return i=a[0].amount,l=a[1].amount*(1-r),g=o.pubkeys.holdingMints[0].toBase58()===a[0].account.info.mint.toBase58()?o.pubkeys.holdingAccounts[0]:o.pubkeys.holdingAccounts[1],h=g===o.pubkeys.holdingAccounts[0]?o.pubkeys.holdingAccounts[1]:o.pubkeys.holdingAccounts[0],e.next=9,m.b.getMint(t,o.pubkeys.mint);case 9:if((y=e.sent).mintAuthority&&o.pubkeys.feeAccount){e.next=12;break}throw new Error("Mint doesnt have authority");case 12:return v=y.mintAuthority,k=[],w=[],A=[],e.next=18,t.getMinimumBalanceForRentExemption(d.a.span);case 18:return j=e.sent,O=F(k,w,a[0].account,n.publicKey,i+j,A),S=E(n.publicKey,n.publicKey,k,w,j,new s.d(a[1].mintAddress),A),k.push(d.c.createApproveInstruction(Object(b.d)().token,O,v,n.publicKey,[],i)),x=b.a?E(n.publicKey,b.a,k,w,j,o.pubkeys.mint,A):void 0,k.push(Object(f.swapInstruction)(o.pubkeys.account,v,O,g,h,S,o.pubkeys.mint,o.pubkeys.feeAccount,o.pubkeys.program,Object(b.d)().token,i,l,x)),e.next=26,Object(u.c)(t,n,k.concat(w),A);case 26:B=e.sent,Object(p.a)({message:"Trade executed.",type:"success",description:"Transaction - ".concat(B)});case 28:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,r,o,i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=7;break}if(i){e.next=3;break}throw new Error("Options are required to create new pool.");case 3:return e.next=5,C(n,t,a,i);case 5:e.next=9;break;case 7:return e.next=9,O(o,a,t,n,r);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,c){return e.apply(this,arguments)}}(),v=function(e,t){return t.map((function(t){return m.b.getAccount(e,new s.d(t))}))},k=function(e,t,n){var a=new s.d(e.data.tokenPool);return{pubkeys:{account:e.pubkey,program:t,mint:a,holdingMints:[],holdingAccounts:[e.data.tokenAccountA,e.data.tokenAccountB].map((function(e){return new s.d(e)}))},legacy:!1,raw:e}},w=function(){var e=Object(u.d)(),t=Object(l.useState)([]),n=Object(r.a)(t,2),o=n[0],d=n[1];return Object(l.useEffect)((function(){d([]);var t=function(){var t=Object(i.a)(c.a.mark((function t(n){var a,r,o=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]&&o[1],r=[],t.next=4,e.getProgramAccounts(n);case 4:return t.sent.filter((function(e){return e.account.data.length===f.TokenSwapLayout.span||e.account.data.length===f.TokenSwapLayoutLegacyV0.span})).map((function(t){var o={data:void 0,account:t.account,pubkey:t.pubkey,init:function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};if(t.account.data.length===f.TokenSwapLayoutLegacyV0.span){o.data=f.TokenSwapLayoutLegacyV0.decode(t.account.data);var u=k(o,n);u.legacy=a,r.push(u),o.init=Object(i.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(v(e,[o.data.tokenAccountA,o.data.tokenAccountB]));case 3:n=t.sent,u.pubkeys.holdingMints=[n[0].info.mint,n[1].info.mint],t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}else{o.data=f.TokenSwapLayout.decode(t.account.data);var l=k(o,n);l.legacy=a,l.pubkeys.feeAccount=new s.d(o.data.feeAccount),l.pubkeys.holdingMints=[new s.d(o.data.mintA),new s.d(o.data.mintB)],r.push(l)}return o})),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Promise.all([t(Object(b.d)().swap)].concat(Object(a.a)(Object(b.d)().swap_legacy.map((function(e){return t(e,!0)}))))).then((function(e){d(e.flat())}))}),[e]),Object(l.useEffect)((function(){var t=e.onProgramAccountChange(Object(b.d)().swap,function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,u,l,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.accountId,t.accountInfo.data.length===f.TokenSwapLayout.span&&(r=t.accountInfo,i={data:f.TokenSwapLayout.decode(r.data),account:r,pubkey:new s.d(n)},(u=o&&o.findIndex((function(e){return e.pubkeys.account.toBase58()===n})))&&u>=0&&o?(l=o.filter((function(e,t){return t!==u})),d([].concat(Object(a.a)(l),[k(i,Object(b.d)().swap)]))):((p=k(i,Object(b.d)().swap)).pubkeys.feeAccount=new s.d(i.data.feeAccount),p.pubkeys.holdingMints=[new s.d(i.data.mintA),new s.d(i.data.mintB)],d([].concat(Object(a.a)(o),[p]))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){e.removeProgramAccountChangeListener(t)}}),[e,o]),{pools:o}},A=function(e){var t=Object(u.d)(),n=Object(m.f)().pools,o=Object(l.useState)(),s=Object(r.a)(o,2),d=s[0],p=s[1],b=Object(a.a)(e).sort();return Object(l.useEffect)((function(){Object(i.a)(c.a.mark((function e(){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(void 0),a=n.filter((function(e){return!e.legacy})).filter((function(e){return e.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort().every((function(e,t){return e===b[t]}))})),r=0;case 3:if(!(r<a.length)){e.next=14;break}return o=a[r],e.next=7,m.b.getAccount(t,o.pubkeys.holdingAccounts[0]);case 7:if(e.sent.info.amount.eqn(0)){e.next=11;break}return p(o),e.abrupt("return");case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})))()}),[t].concat(Object(a.a)(b),[n])),d},j=function(){var e=Object(m.f)().pools,t=Object(m.i)().userAccounts.reduce((function(e,t){var n=t.info.mint.toBase58();return e.set(n,[].concat(Object(a.a)(e.get(n)||[]),[t])),e}),new Map);return e.filter((function(e){return t.has(e.pubkeys.mint.toBase58())})).map((function(e){var n,a,r=null===(n=e.pubkeys.feeAccount)||void 0===n?void 0:n.toBase58();return null===(a=t.get(e.pubkeys.mint.toBase58()))||void 0===a?void 0:a.map((function(t){return{account:t,isFeeAccount:r===t.pubkey.toBase58(),pool:e}}))})).flat()};function O(e,t,n,a,r){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(c.a.mark((function e(t,n,a,r,o){var i,s,l,g,h,y,v,k,w,A,j,O,S,x,B,C,N,T,L,M;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(p.a)({message:"Adding Liquidity...",description:"Please review transactions to approve.",type:"warn"}),e.next=3,m.b.getMint(a,t.pubkeys.mint);case 3:if((i=e.sent).mintAuthority){e.next=6;break}throw new Error("Mint doesnt have authority");case 6:if(t.pubkeys.feeAccount){e.next=8;break}throw new Error("Invald fee account");case 8:return e.next=10,m.b.getAccount(a,t.pubkeys.holdingAccounts[0]);case 10:return s=e.sent,e.next=13,m.b.getAccount(a,t.pubkeys.holdingAccounts[1]);case 13:if(l=e.sent,g=s.info.amount.toNumber(),h=l.info.amount.toNumber(),y=s.info.mint.toBase58()===n[0].mintAddress?n[0]:n[1],v=y===n[0]?n[1]:n[0],y.account&&v.account){e.next=20;break}throw new Error("Missing account info.");case 20:return k=i.supply.toNumber(),w=i.mintAuthority,A=y.amount,j=v.amount,O=Math.min(A*(1-o)*k/g,j*(1-o)*k/h),S=[],x=[],B=[],e.next=30,a.getMinimumBalanceForRentExemption(d.a.span);case 30:return C=e.sent,N=F(S,x,y.account,r.publicKey,A+C,B),T=F(S,x,v.account,r.publicKey,j+C,B),L=E(r.publicKey,r.publicKey,S,[],C,t.pubkeys.mint,B,new Set([t.pubkeys.feeAccount.toBase58()])),S.push(d.c.createApproveInstruction(Object(b.d)().token,N,w,r.publicKey,[],A)),S.push(d.c.createApproveInstruction(Object(b.d)().token,T,w,r.publicKey,[],j)),S.push(Object(f.depositInstruction)(t.pubkeys.account,w,N,T,t.pubkeys.holdingAccounts[0],t.pubkeys.holdingAccounts[1],t.pubkeys.mint,L,t.pubkeys.program,Object(b.d)().token,O,A,j)),e.next=39,Object(u.c)(a,r,S.concat(x),B);case 39:M=e.sent,Object(p.a)({message:"Pool Funded. Happy trading.",type:"success",description:"Transaction - ".concat(M)});case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,n,a,r,o,c,i){var s,u=o.toBase58(),l=Object(m.c)((function(e){return e.info.mint.toBase58()===u&&e.info.owner.toBase58()===t.toBase58()&&(void 0===i||!i.has(e.pubkey.toBase58()))})),p=u===b.c.toBase58();if(l&&!p)s=l.pubkey;else{var f=T(n,e,r,o,t,d.a.span);s=f.publicKey,c.push(f),p&&a.push(d.c.createCloseAccountInstruction(Object(b.d)().token,s,e,e,[]))}return s}function x(e,t,n,a){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(c.a.mark((function e(t,n,a,r){var o,i,s,u,l,d,p,b,f,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.getMint(t,r.pubkeys.mint);case 2:return o=e.sent,e.next=5,m.b.getAccount(t,r.pubkeys.holdingAccounts[0]);case 5:return i=e.sent,e.next=8,m.b.getAccount(t,r.pubkeys.holdingAccounts[1]);case 8:if(s=e.sent,o.mintAuthority){e.next=11;break}throw new Error("Mint doesnt have authority");case 11:if(!o.supply.eqn(0)){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,m.b.getMint(t,i.info.mint);case 15:return u=e.sent,e.next=18,m.b.getMint(t,s.info.mint);case 18:if(l=e.sent,u&&l){e.next=21;break}return e.abrupt("return");case 21:return d=i.info.mint.toBase58()===n,p=Math.pow(10,d?l.decimals:u.decimals),b=Math.pow(10,d?u.decimals:l.decimals),f=a*b,g=d?s.info.amount.toNumber()/i.info.amount.toNumber()*f:i.info.amount.toNumber()/s.info.amount.toNumber()*f,e.abrupt("return",g/p);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n,a){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(c.a.mark((function e(t,n,o,i){var l,m,g,h,y,v,k,w,A,j,O,S,E,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(p.a)({message:"Creating new pool...",description:"Please review transactions to approve.",type:"warn"}),!o.some((function(e){return!e.account}))){e.next=4;break}return Object(p.a)({message:"You need to have balance for all legs in the basket...",description:"Please review inputs.",type:"error"}),e.abrupt("return");case 4:return l=[],m=[],g=new s.a,e.t0=l,e.t1=s.f,e.t2=t.publicKey,e.t3=g.publicKey,e.next=13,n.getMinimumBalanceForRentExemption(d.b.span);case 13:return e.t4=e.sent,e.t5=d.b.span,e.t6=Object(b.d)().token,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.push.call(e.t0,e.t8),h=new s.a,e.next=22,s.d.findProgramAddress([h.publicKey.toBuffer()],Object(b.d)().swap);case 22:return y=e.sent,v=Object(r.a)(y,2),k=v[0],w=v[1],l.push(d.c.createInitMintInstruction(Object(b.d)().token,g.publicKey,8,k,null)),e.next=29,n.getMinimumBalanceForRentExemption(d.a.span);case 29:return A=e.sent,j=[],O=[],o.forEach((function(e){if(e.account){var n=e.account.info.mint;j.push(T(l,t.publicKey,A,n,k,d.a.span))}})),S=T(l,t.publicKey,A,g.publicKey,t.publicKey,d.a.span),E=T(l,t.publicKey,A,g.publicKey,b.b||t.publicKey,d.a.span),e.next=37,Object(u.c)(n,t,l,[g,S,E].concat(j,Object(a.a)(O)));case 37:return x=e.sent,Object(p.a)({message:"Accounts created",description:"Transaction ".concat(x),type:"success"}),Object(p.a)({message:"Adding Liquidity...",description:"Please review transactions to approve.",type:"warn"}),O=[],l=[],m=[],e.t9=l,e.t10=s.f,e.t11=t.publicKey,e.t12=h.publicKey,e.next=49,n.getMinimumBalanceForRentExemption(f.TokenSwapLayout.span);case 49:return e.t13=e.sent,e.t14=f.TokenSwapLayout.span,e.t15=Object(b.d)().swap,e.t16={fromPubkey:e.t11,newAccountPubkey:e.t12,lamports:e.t13,space:e.t14,programId:e.t15},e.t17=e.t10.createAccount.call(e.t10,e.t16),e.t9.push.call(e.t9,e.t17),o.forEach((function(e,n){if(e.account){var a=F(l,m,e.account,t.publicKey,e.amount+A,O);l.push(d.c.createTransferInstruction(Object(b.d)().token,a,j[n].publicKey,t.publicKey,[],e.amount))}})),l.push(Object(f.createInitSwapInstruction)(h,k,j[0].publicKey,j[1].publicKey,g.publicKey,E.publicKey,S.publicKey,Object(b.d)().token,Object(b.d)().swap,w,i.curveType,i.tradeFeeNumerator,i.tradeFeeDenominator,i.ownerTradeFeeNumerator,i.ownerTradeFeeDenominator,i.ownerWithdrawFeeNumerator,i.ownerWithdrawFeeDenominator)),e.next=59,Object(u.c)(n,t,l.concat(m),[h].concat(Object(a.a)(O)));case 59:x=e.sent,Object(p.a)({message:"Pool Funded. Happy trading.",type:"success",description:"Transaction - ".concat(x)});case 61:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n,a,r,o){if(!n.info.isNative)return n.pubkey;var c=new s.a;return e.push(s.f.createAccount({fromPubkey:a,newAccountPubkey:c.publicKey,lamports:r,space:d.a.span,programId:Object(b.d)().token})),e.push(d.c.createInitAccountInstruction(Object(b.d)().token,b.c,c.publicKey,a)),t.push(d.c.createCloseAccountInstruction(Object(b.d)().token,c.publicKey,a,a,[])),o.push(c),c.publicKey}function T(e,t,n,a,r,o){var c=new s.a;return e.push(s.f.createAccount({fromPubkey:t,newAccountPubkey:c.publicKey,lamports:n,space:o,programId:Object(b.d)().token})),e.push(d.c.createInitAccountInstruction(Object(b.d)().token,a,c.publicKey,r)),c}},687:function(e,t){},69:function(e,t,n){"use strict";var a=n(278);n.o(a,"TokenSwapLayout")&&n.d(t,"TokenSwapLayout",(function(){return a.TokenSwapLayout})),n.o(a,"TokenSwapLayoutLegacyV0")&&n.d(t,"TokenSwapLayoutLegacyV0",(function(){return a.TokenSwapLayoutLegacyV0})),n.o(a,"createInitSwapInstruction")&&n.d(t,"createInitSwapInstruction",(function(){return a.createInitSwapInstruction})),n.o(a,"depositInstruction")&&n.d(t,"depositInstruction",(function(){return a.depositInstruction})),n.o(a,"swapInstruction")&&n.d(t,"swapInstruction",(function(){return a.swapInstruction})),n.o(a,"withdrawInstruction")&&n.d(t,"withdrawInstruction",(function(){return a.withdrawInstruction}));var r=n(279);n.o(r,"TokenSwapLayout")&&n.d(t,"TokenSwapLayout",(function(){return r.TokenSwapLayout})),n.o(r,"TokenSwapLayoutLegacyV0")&&n.d(t,"TokenSwapLayoutLegacyV0",(function(){return r.TokenSwapLayoutLegacyV0})),n.o(r,"createInitSwapInstruction")&&n.d(t,"createInitSwapInstruction",(function(){return r.createInitSwapInstruction})),n.o(r,"depositInstruction")&&n.d(t,"depositInstruction",(function(){return r.depositInstruction})),n.o(r,"swapInstruction")&&n.d(t,"swapInstruction",(function(){return r.swapInstruction})),n.o(r,"withdrawInstruction")&&n.d(t,"withdrawInstruction",(function(){return r.withdrawInstruction}));var o=n(280);n.d(t,"TokenSwapLayout",(function(){return o.a})),n.d(t,"TokenSwapLayoutLegacyV0",(function(){return o.b})),n.d(t,"createInitSwapInstruction",(function(){return o.c})),n.d(t,"depositInstruction",(function(){return o.d})),n.d(t,"swapInstruction",(function(){return o.e})),n.d(t,"withdrawInstruction",(function(){return o.f}))},692:function(e,t){},693:function(e,t){},723:function(e,t,n){},731:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(36),c=n.n(o),i=(n(413),n(414),n(341)),s=n(373),u=n(47),l=n(21),d=n(116),p=n(737),m=n(734),b=n(11),f=n.n(b),g=n(16),h=n(733),y=n(22),v=n(56),k=n(29),w=n(735),A=n(63),j=n(67),O=n(70),S=n(73),E=n(736),x=function(e){Object(O.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(A.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){var n=t.target.value;(!isNaN(n)&&/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,a=t.onBlur,r=t.onChange,o=n;"."!==n.charAt(n.length-1)&&"-"!==n||(o=n.slice(0,-1)),r(o.replace(/0*(\d+)/,"$1")),a&&a()},e}return Object(j.a)(n,[{key:"render",value:function(){return r.a.createElement(E.a,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(r.a.Component),B=n(33),C=n(26),N=(n(487),n(52)),F=n(350),T=n.n(F),L=(n(497),function(e){var t=e.address,n=Object(a.useRef)();return Object(a.useEffect)((function(){t&&n.current&&(n.current.innerHTML="",n.current.appendChild(T()(16,parseInt(t.slice(0,10),16))))}),[t]),r.a.createElement("div",{className:"identicon-wrapper",ref:n,style:e.style})}),M=function(e){var t=Object(y.e)().env,n=Object(B.d)(t,e.mintAddress);return n?r.a.createElement("img",{alt:"Token icon",key:e.mintAddress,width:"20",height:"20",src:n,style:Object(N.a)({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"1rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style)}):r.a.createElement(L,{address:e.mintAddress,style:Object(N.a)({marginRight:"0.5rem"},e.style)})},W=function(e){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(M,{mintAddress:e.mintA,style:Object(N.a)({marginRight:"-0.5rem"},e.style)}),r.a.createElement(M,{mintAddress:e.mintB}))},P=n(153),I=w.a.Option,K=function(e){var t=Object(C.i)().userAccounts,n=Object(C.f)().pools,a=Object(C.g)(e.mint),o=Object(y.e)().env,c=P[o].map((function(e){return r.a.createElement(I,{key:e.mintAddress,value:e.mintAddress,title:e.mintAddress},r.a.createElement("div",{key:e.mintAddress,style:{display:"flex",alignItems:"center"}},r.a.createElement(M,{mintAddress:e.mintAddress}),e.tokenSymbol))})),i=t.sort((function(e,t){return t.info.amount.toNumber()-e.info.amount.toNumber()})).reduce((function(e,t){var a=t.info.mint.toBase58();if(Object(B.f)(o,a))return e;var r=n.find((function(e){return e&&e.pubkeys.mint.toBase58()===a}));return e.set(a,(e.get(a)||[]).concat([{account:t,pool:r}])),e}),new Map),s=Object(k.a)(i.keys()).map((function(e){var t=i.get(e);if(t&&!(t.length<=0)){var n=t[0];if(!n.account.info.amount.eqn(0)){var a,c;if(n.pool){a=Object(B.c)(o,n.pool);var s=n.pool.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort();c=r.a.createElement(W,{mintA:s[0],mintB:s[1]})}else a=Object(B.e)(o,e),c=r.a.createElement(M,{mintAddress:e});return r.a.createElement(I,{key:n.account.pubkey.toBase58(),value:e,title:e},r.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center"}},c,a))}}})),u=function(){var n=null===t||void 0===t?void 0:t.find((function(t){return t.info.mint.toBase58()===e.mint}));return n&&a?n.info.amount.toNumber()/Math.pow(10,a.decimals):0};return r.a.createElement(m.a,{className:"ccy-input",style:{borderRadius:20,margin:15},bodyStyle:{padding:0}},r.a.createElement("div",{className:"ccy-input-header"},r.a.createElement("div",{className:"ccy-input-header-left"},e.title),r.a.createElement("div",{className:"ccy-input-header-right",onClick:function(t){return e.onInputChange&&e.onInputChange(u())}},"Balance: ",u().toFixed(6))),r.a.createElement("div",{className:"ccy-input-header",style:{padding:"0px 10px 5px 7px"}},r.a.createElement(x,{value:e.amount,onChange:function(t){e.onInputChange&&e.onInputChange(t)},style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},placeholder:"0.00"}),r.a.createElement("div",{className:"ccy-input-header-right",style:{display:"felx"}},r.a.createElement(w.a,{size:"large",style:{minWidth:80},placeholder:"CCY",value:e.mint,dropdownMatchSelectWidth:!0,dropdownStyle:{minWidth:200},onChange:function(t){e.onMintChange&&e.onMintChange(t)}},[].concat(Object(k.a)(c),Object(k.a)(s))))))},D=n(739),R=n(64),U=n(40),z=r.a.createContext(null);function X(e){var t=e.children,n=void 0===t?null:t,o=Object(y.d)(),c=Object(a.useState)(""),i=Object(l.a)(c,2),s=i[0],u=i[1],d=Object(a.useState)(""),p=Object(l.a)(d,2),m=p[0],b=p[1],h=Object(a.useState)(""),v=Object(l.a)(h,2),k=v[0],w=v[1],A=Object(a.useState)(""),j=Object(l.a)(A,2),O=j[0],S=j[1],E=Object(a.useState)(""),x=Object(l.a)(E,2),N=x[0],F=x[1],T=Object(C.e)(k),L=Object(C.e)(O),M=Object(C.g)(k),W=Object(C.g)(O),P=Object(R.f)([k,O]),I=Object(a.useCallback)(Object(g.a)(f.a.mark((function e(){var t,n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(P&&k&&O)){e.next=6;break}return N===k?(a=k,t=b,n=parseFloat(s)):(a=O,t=u,n=parseFloat(m)),e.next=4,Object(R.b)(o,a,n,P);case 4:void 0!==(r=e.sent)&&Number.isFinite(r)?t(r.toFixed(2)):t("");case 6:case"end":return e.stop()}}),e)}))),[P,k,O,u,b,s,m,o,N]);Object(a.useEffect)((function(){I()}),[m,s,N,I]);var K=function(e,t){return parseFloat(e)*Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0)};return r.a.createElement(z.Provider,{value:{A:{mintAddress:k,account:T,mint:M,amount:s,setAmount:u,setMint:w,convertAmount:function(){return K(s,M)},sufficientBalance:function(){return void 0!==T&&Object(B.a)(T,M)>=parseFloat(s)}},B:{mintAddress:O,account:L,mint:W,amount:m,setAmount:b,setMint:S,convertAmount:function(){return K(m,W)},sufficientBalance:function(){return void 0!==L&&Object(B.a)(L,W)>=parseFloat(m)}},setLastTypedAccount:F}},n)}var G=function(){return Object(a.useContext)(z)},q=function(e){return"Insufficient ".concat(e," funds")},Y=function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return t?a.mintAddress?a.amount?r.mintAddress?r.amount?a.sufficientBalance()?o||r.sufficientBalance()?e:q(Object(B.e)(n,r.mintAddress)):q(Object(B.e)(n,a.mintAddress)):"Enter an amount":"Select a token":"Enter an amount":"Select a token":"Connect Wallet"},H=(n(506),r.a.createElement(D.a,{style:{fontSize:24},spin:!0})),V=function(){var e,t,n=Object(v.c)(),o=n.wallet,c=n.connected,i=Object(y.d)(),s=Object(a.useState)(!1),u=Object(l.a)(s,2),p=u[0],m=u[1],b=G(),k=b.A,w=b.B,A=b.setLastTypedAccount,j=Object(R.f)([null===k||void 0===k?void 0:k.mintAddress,null===w||void 0===w?void 0:w.mintAddress]),O=Object(y.f)().slippage,S=Object(y.e)().env,E=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.account||!w.mintAddress){e.next=14;break}return e.prev=1,m(!0),t=[{account:k.account,mintAddress:k.mintAddress,amount:k.convertAmount()},{mintAddress:w.mintAddress,amount:w.convertAmount()}],e.next=6,Object(R.d)(i,o,t,O,j);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(U.a)({description:"Please try again and approve transactions from your wallet",message:"Swap trade cancelled.",type:"error"});case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(K,{title:"Input",onInputChange:function(e){k.amount!==e&&A(k.mintAddress),k.setAmount(e)},amount:k.amount,mint:k.mintAddress,onMintChange:function(e){k.setMint(e)}}),r.a.createElement(d.a,{type:"primary",className:"swap-button",onClick:function(){var e=k.mintAddress,t=k.amount;k.setMint(w.mintAddress),k.setAmount(w.amount),w.setMint(e),w.setAmount(t)}},"\u21c5"),r.a.createElement(K,{title:"To (Estimate)",onInputChange:function(e){w.amount!==e&&A(w.mintAddress),w.setAmount(e)},amount:w.amount,mint:w.mintAddress,onMintChange:function(e){w.setMint(e)}})),r.a.createElement(d.a,{className:"trade-button",type:"primary",size:"large",onClick:c?E:o.connect,style:{width:"100%"},disabled:c&&(p||!k.account||!w.mintAddress||k.account===w.account||!k.sufficientBalance()||!j)},Y(j?"Swap":(e=Object(B.e)(S,k.mintAddress),t=Object(B.e)(S,w.mintAddress),"Pool ".concat(e,"/").concat(t," doesn't exsist")),c,S,k,w,!0),p&&r.a.createElement(h.a,{indicator:H,className:"trade-spinner"})))},Q=n(738),Z=n(206),J=n(205),_=n(8),$=Math.PI/180,ee=new Set(["USDC","wUSDC","USDT"]),te=function(e){var t=Object(a.useMemo)((function(){return new _.b(y.b[0].endpoint,"recent")}),[]),n=Object(a.useState)(void 0),r=Object(l.a)(n,2),o=r[0],c=r[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),u=s[0],d=s[1];return Object(a.useEffect)((function(){d(!0),c(void 0);var n=J.TOKEN_MINTS.find((function(t){return t.address.toBase58()===e})),a="".concat(null===n||void 0===n?void 0:n.name,"/USDC"),r=J.MARKETS.find((function(e){return e.name===a}));if(ee.has((null===n||void 0===n?void 0:n.name)||""))return d(!0),void c(1);(null===r||void 0===r?void 0:r.programId)&&Object(g.a)(f.a.mark((function e(){var n,a,o,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Market.load(t,r.address,void 0,r.programId);case 2:return n=e.sent,e.next=5,n.loadBids(t);case 5:return a=e.sent,e.next=8,n.loadAsks(t);case 8:o=e.sent,i=a.getL2(1),s=o.getL2(1),d(!1),i.length>0&&s.length>0&&c((i[0][0]+s[0][0])/2);case 13:case"end":return e.stop()}}),e)})))()}),[t,e,d,c]),{price:o,isBase:u}},ne=function(e){var t=e.mintAddress,n=e.pool,o=Object(y.d)(),c=Object(C.g)(t[0]),i=Object(C.g)(t[1]),s=Object(C.d)((null===n||void 0===n?void 0:n.pubkeys.holdingMints[0].toBase58())===t[0]?null===n||void 0===n?void 0:n.pubkeys.holdingAccounts[0]:null===n||void 0===n?void 0:n.pubkeys.holdingAccounts[1]),u=Object(C.d)((null===n||void 0===n?void 0:n.pubkeys.holdingMints[0].toBase58())===t[0]?null===n||void 0===n?void 0:n.pubkeys.holdingAccounts[1]:null===n||void 0===n?void 0:n.pubkeys.holdingAccounts[0]),d=Object(y.e)().env,p=Object(a.useState)([]),b=Object(l.a)(p,2),h=b[0],v=b[1],k=te(t[0]),w=k.price,A=k.isBase,j=te(t[1]),O=j.price,S=j.isBase,E=void 0!==w&&void 0!==O;return Object(a.useEffect)((function(){t&&s&&u&&Object(g.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[{name:Object(B.e)(d,t[0]),value:Object(B.a)(s,c,E?w:void 0),color:"#6610f2"},{name:Object(B.e)(d,t[1]),value:Object(B.a)(u,i,E?O:void 0),color:"#d83aeb"}],v(n);case 2:case"end":return e.stop()}}),e)})))()}),[s,u,c,i,o,d,t,E,w,O]),!n||!s||!u||h.length<1?null:r.a.createElement(m.a,{style:{borderWidth:0}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Z.c,{width:150,height:150},r.a.createElement(Z.b,{dataKey:"value",isAnimationActive:!1,data:h,labelLine:!1,cx:70,cy:70,label:function(e){return function(e,t){var n=e.cx,a=e.cy,o=e.midAngle,c=e.innerRadius,i=e.outerRadius,s=e.index,u=c+.5*(i-c),l=n+u*Math.cos(-o*$),d=a+u*Math.sin(-o*$);return r.a.createElement("text",{x:l,y:d,fill:"#FFFFFF",textAnchor:l>n?"start":"end",dominantBaseline:"central"},t[s].name)}(e,h)},outerRadius:60},h.map((function(e,t){return r.a.createElement(Z.a,{key:"cell-".concat(t),stroke:"",fill:e.color})})))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:20,flex:"1 1",alignItems:"flex-start",justifyContent:"center"}},r.a.createElement("div",null,r.a.createElement("span",null,h[0].name,":")," ",Object(B.b)(s,c)," ",!A&&Object(B.b)(s,c,w,"($",")")),r.a.createElement("div",null,r.a.createElement("span",null,h[1].name,":")," ",Object(B.b)(u,i)," ",!S&&O&&Object(B.b)(u,i,O,"($",")")))))},ae=(n(340),w.a.Option),re=function(e){var t=Object(a.useState)((e.numerator/e.denominator*100).toString()),n=Object(l.a)(t,2),o=n[0],c=n[1];return r.a.createElement("div",{style:{padding:"3px 10px 3px 3px",border:"1px solid #434343"}},r.a.createElement(x,{className:"slippage-input",size:"small",value:o,style:{width:50,fontSize:14,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},onChange:function(t){c(t);var n=parseFloat(t);if(Number.isFinite(n)){var a=1e4*n/100;e.set(a,1e4)}}}),"%")},oe=function(e){var t=e.options,n=t.tradeFeeNumerator,a=t.tradeFeeDenominator,o=t.ownerTradeFeeNumerator,c=t.ownerTradeFeeDenominator,i=t.ownerWithdrawFeeNumerator,s=t.ownerWithdrawFeeDenominator;return r.a.createElement(m.a,{title:"Pool configuration"},r.a.createElement("div",{className:"pool-settings-grid"},r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"LPs Trading Fee:"),r.a.createElement(re,{numerator:n,denominator:a,set:function(t,n){return e.setOptions(Object(N.a)(Object(N.a)({},e.options),{},{tradeFeeNumerator:t,tradeFeeDenominator:n}))}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Owner Trading Fee:"),r.a.createElement(re,{numerator:o,denominator:c,set:function(t,n){return e.setOptions(Object(N.a)(Object(N.a)({},e.options),{},{ownerTradeFeeNumerator:t,ownerTradeFeeDenominator:n}))}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Withdraw Fee:"),r.a.createElement(re,{numerator:i,denominator:s,set:function(t,n){return e.setOptions(Object(N.a)(Object(N.a)({},e.options),{},{ownerWithdrawFeeNumerator:t,ownerWithdrawFeeDenominator:n}))}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Curve Type:"),r.a.createElement(w.a,{defaultValue:"0",style:{width:200},onChange:function(t){return e.setOptions(Object(N.a)(Object(N.a)({},e.options),{},{curveType:parseInt(t)}))}},r.a.createElement(ae,{value:"0"},"Constant Product"),r.a.createElement(ae,{value:"1"},"Flat")))))},ce=n(24),ie=r.a.createElement(D.a,{style:{fontSize:24},spin:!0}),se=function(){var e=Object(v.c)(),t=e.wallet,n=e.connected,o=Object(y.d)(),c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],m=G(),b=m.A,k=m.B,w=m.setLastTypedAccount,A=Object(R.f)([null===b||void 0===b?void 0:b.mintAddress,null===k||void 0===k?void 0:k.mintAddress]),j=Object(y.f)().slippage,O=Object(y.e)().env,S=Object(a.useState)({curveType:0,tradeFeeNumerator:25,tradeFeeDenominator:1e4,ownerTradeFeeNumerator:5,ownerTradeFeeDenominator:1e4,ownerWithdrawFeeNumerator:0,ownerWithdrawFeeDenominator:1e4}),E=Object(l.a)(S,2),x=E[0],B=E[1],C=n?Object(g.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.account&&k.account&&b.mint&&k.mint&&(u(!0),n=[{account:b.account,mintAddress:b.mintAddress,amount:b.convertAmount()},{account:k.account,mintAddress:k.mintAddress,amount:k.convertAmount()}],Object(R.a)(o,t,n,j,A,x).then((function(){u(!1)})).catch((function(e){console.log("Transaction failed",e),Object(U.a)({description:"Please try again and approve transactions from your wallet",message:"Adding liquidity cancelled.",type:"error"}),u(!1)})));case 1:case"end":return e.stop()}}),e)}))):t.connect,N=b.sufficientBalance()&&k.sufficientBalance(),F=ce.b?r.a.createElement(d.a,{className:"add-button",onClick:C,disabled:n&&(s||!b.account||!k.account||b.account===k.account),type:"primary",size:"large"},Y("Create Liquidity Pool",n,O,b,k),s&&r.a.createElement(h.a,{indicator:ie,className:"add-spinner"})):r.a.createElement(Q.a.Button,{className:"add-button",onClick:C,disabled:n&&(s||!b.account||!k.account||b.account===k.account),type:"primary",size:"large",overlay:r.a.createElement(oe,{options:x,setOptions:B})},Y("Create Liquidity Pool",n,O,b,k),s&&r.a.createElement(h.a,{indicator:ie,className:"add-spinner"}));return r.a.createElement("div",null,r.a.createElement(p.a,{trigger:"hover",content:r.a.createElement("div",{style:{width:300}},"Liquidity providers earn a fixed percentage fee on all trades proportional to their share of the pool. Fees are added to the pool, accrue in real time and can be claimed by withdrawing your liquidity.")},r.a.createElement(d.a,{type:"text"},"Read more about providing liquidity.")),r.a.createElement(K,{title:"Input",onInputChange:function(e){b.amount!==e&&w(b.mintAddress),b.setAmount(e)},amount:b.amount,mint:b.mintAddress,onMintChange:function(e){b.setMint(e)}}),r.a.createElement("div",null,"+"),r.a.createElement(K,{title:"Input",onInputChange:function(e){k.amount!==e&&w(k.mintAddress),k.setAmount(e)},amount:k.amount,mint:k.mintAddress,onMintChange:function(e){k.setMint(e)}}),r.a.createElement(ne,{mintAddress:[b.mintAddress,k.mintAddress],pool:A}),A&&r.a.createElement(d.a,{className:"add-button",type:"primary",size:"large",onClick:C,disabled:n&&(s||!b.account||!k.account||b.account===k.account||!N)},Y("Provide Liquidity",n,O,b,k),s&&r.a.createElement(h.a,{indicator:ie,className:"add-spinner"})),!A&&F)},ue=n(42),le=n(140),de=function(e){var t=e.instance,n=t.account,o=t.pool,c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],p=Object(v.c)().wallet,m=Object(y.d)(),b=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),t=n.info.amount.toNumber(),e.next=5,Object(R.c)(m,p,t,n,o);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(U.a)({description:"Please try again and approve transactions from your wallet",message:"Removing liquidity cancelled.",type:"error"});case 10:return e.prev=10,u(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{type:"default",onClick:b,disabled:s},"Remove"))},pe=(n(723),function(e){var t=Object(y.e)().env,n=G(),a=n.A,o=n.B,c=e.item,i=Object(C.g)(c.account.info.mint.toBase58()),s=c.account.info.amount.toNumber()/Math.pow(10,(null===i||void 0===i?void 0:i.decimals)||0);if(!s)return null;var u=c.pool.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort();return c?r.a.createElement("div",{className:"pool-item-row",onClick:function(){a.setMint(e.item.pool.pubkeys.holdingMints[0].toBase58()),o.setMint(e.item.pool.pubkeys.holdingMints[1].toBase58())},title:"LP Token: ".concat(e.item.pool.pubkeys.mint.toBase58())},r.a.createElement("div",{className:"pool-item-amount"},s.toFixed(4)),r.a.createElement("div",{className:"pool-item-type",title:"Fee account"},c.isFeeAccount?" (F) ":" "),r.a.createElement(W,{mintA:u[0],mintB:u[1],style:{marginLeft:"0.5rem"}}),r.a.createElement("div",{className:"pool-item-name"},Object(B.c)(t,c.pool)),r.a.createElement(de,{instance:c})):null}),me=function(){var e=Object(R.e)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Your Liquidity"),r.a.createElement(ue.a,{renderEmpty:function(){return r.a.createElement(le.a,{image:le.a.PRESENTED_IMAGE_SIMPLE,description:"No liquidity found."})}},r.a.createElement("div",{className:"pools-grid"},e.map((function(e){return r.a.createElement(pe,{key:null===e||void 0===e?void 0:e.account.pubkey.toBase58(),item:e})})))))},be=function(e){var t=Object(v.c)().wallet,n=Object(C.h)().account;return t&&t.publicKey?r.a.createElement("div",{className:"wallet-wrapper"},r.a.createElement("span",null,(((null===n||void 0===n?void 0:n.lamports)||0)/_.c).toFixed(6)," SOL"),r.a.createElement("div",{className:"wallet-key"},Object(B.g)("".concat(t.publicKey)),r.a.createElement(L,{address:t.publicKey.toBase58(),style:{marginLeft:"0.5rem"}}))):null},fe=function(e){var t=Object(y.f)(),n=t.slippage,o=t.setSlippage,c=100*n,i=Object(a.useState)(c.toString()),s=Object(l.a)(i,2),u=s[0],p=s[1];Object(a.useEffect)((function(){p(c.toString())}),[n,c]);var m={margin:5};return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},[.1,.5,1].map((function(e){return r.a.createElement(d.a,{key:e.toString(),style:m,type:(t=e,t===c?"primary":"default"),onClick:function(){return o(e/100)}},e,"%");var t})),r.a.createElement("div",{style:{padding:"3px 10px 3px 3px",border:"1px solid #434343"}},r.a.createElement(x,{className:"slippage-input",size:"small",placeholder:u,value:u,style:{width:50,fontSize:14,boxShadow:"none",borderColor:"transparent",outline:"transpaernt"},onChange:function(e){p(e);var t=parseFloat(e)/100;Number.isFinite(t)&&o(t)}}),"%"))},ge=function(){var e=Object(v.c)(),t=e.providerUrl,n=e.setProvider,a=Object(y.e)(),o=a.endpoint,c=a.setEndpoint;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Transactions: Settings:",r.a.createElement("div",null,"Slippage:",r.a.createElement(fe,null))),r.a.createElement("div",{style:{display:"grid"}},"Network:"," ",r.a.createElement(w.a,{onSelect:c,value:o,style:{marginRight:8}},y.b.map((function(e){var t=e.name,n=e.endpoint;return r.a.createElement(w.a.Option,{value:n,key:n},t)})))),r.a.createElement("div",{style:{display:"grid"}},"Wallet:"," ",r.a.createElement(w.a,{onSelect:n,value:t},v.a.map((function(e){var t=e.name,n=e.url;return r.a.createElement(w.a.Option,{value:n,key:n},t)})))))},he=n(740),ye=function(e){var t,n=Object(v.c)(),o=n.connected,c=n.wallet,i={width:120},s=[{key:"trade",tab:r.a.createElement("div",{style:i},"Trade"),render:function(){return r.a.createElement(V,null)}},{key:"pool",tab:r.a.createElement("div",{style:i},"Pool"),render:function(){return r.a.createElement(se,null)}}],u=Object(a.useState)(s[0].key),b=Object(l.a)(u,2),f=b[0],g=b[1],h=r.a.createElement("div",{className:"App-Bar"},r.a.createElement("div",{className:"App-Bar-left"},r.a.createElement("div",{className:"App-logo"})),r.a.createElement("div",{className:"App-Bar-right"},r.a.createElement(d.a,{type:"text",size:"large",style:{color:"#2abdd2"}},r.a.createElement("a",{href:"http://sniperswap.com/",target:"_blank",rel:"noopener noreferrer"},"Trade")),r.a.createElement(be,null),o&&r.a.createElement(p.a,{placement:"bottomRight",content:r.a.createElement(me,null),trigger:"click"},r.a.createElement(d.a,{type:"text"},"My Pools")),r.a.createElement("div",null,!o&&r.a.createElement(d.a,{type:"text",size:"large",onClick:o?c.disconnect:c.connect,style:{color:"#2abdd2"}},"Connect"),o&&r.a.createElement(p.a,{placement:"bottomRight",title:"Wallet public key",trigger:"click"})),r.a.createElement(p.a,{placement:"topRight",title:"Settings",content:r.a.createElement(ge,null),trigger:"click"},r.a.createElement(d.a,{shape:"circle",size:"large",type:"text",icon:r.a.createElement(he.a,null)}))));return r.a.createElement(r.a.Fragment,null,h,r.a.createElement(m.a,{className:"exchange-card",headStyle:{padding:0},tabList:s,tabProps:{tabBarGutter:0},activeTabKey:f,onTabChange:function(e){g(e)}},null===(t=s.find((function(e){return e.key===f})))||void 0===t?void 0:t.render()))};function ve(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{basename:"/"},r.a.createElement(u.a,{exact:!0,path:"/",component:ye})))}var ke=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ve,null),r.a.createElement("div",{className:"social-buttons"},r.a.createElement(i.a,{href:"https://github.com/GarudaProjects/SolSwap/","data-color-scheme":"no-preference: light; light: light; dark: light;","data-icon":"octicon-star","data-size":"large","data-show-count":!0,"aria-label":"Star SolSwap on GitHub"},"Star")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y.a,null,r.a.createElement(v.b,null,r.a.createElement(C.a,null,r.a.createElement(X,null,r.a.createElement(ke,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[408,1,2]]]);